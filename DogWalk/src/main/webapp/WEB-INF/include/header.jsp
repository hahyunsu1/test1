<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

	<!-- pageContext.request.userPrincipal.name -->
	<!-- socketjs/stomp참조-------------------------------------------------  -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
	<!-- -------------------------------------------------------------- -->
	<c:set var="user55" value="${sessionScope.member}" />
	<c:set var="myctx" value="${pageContext.request.contextPath}"/>
	<!-- header -->
	<nav class="navbar navbar-transparent fixed-top" role="navigation-demo" style="color: #000000;">
		<a class="toggle-btn"><span class="toggle-btn"><i class="fas fa-bars"></i></span></a>
		<div style="width:200px; margin-top:8px;">
			<span id="header-title">
					<a href="${myctx}/index">				
					<svg id="레이어_1" data-name="레이어 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 408 62"><path d="M367.75 7.792c-4.262.161-7.75.686-7.75 1.168 0 2.394 1.29 3.711 3.3 3.368 3.445-.588 4.343.775 3.904 5.922-.322 3.776-.778 4.75-2.223 4.75-3.727 0-4.981 1.027-3.721 3.045 1.013 1.621 2.055 1.794 7.953 1.318 5.74-.464 6.787-.306 6.787 1.025 0 1.87-2.439 2.56-10.414 2.948-4.424.216-5.971.678-6.141 1.836-.187 1.275 1.561 1.662 9.914 2.197 5.578.357 11.491.307 13.141-.11 1.65-.417 5.586-.759 8.747-.759 3.16 0 5.748-.301 5.75-.668.001-.368.245-1.3.541-2.071.437-1.139-1.063-1.39-7.988-1.332-5.835.049-8.674-.313-8.994-1.147-.686-1.784.882-2.413 6.931-2.782 9.51-.581 12.548-2.658 6.263-4.283-2.854-.738-3.268-1.273-3.397-4.386-.189-4.543.618-5.768 3.984-6.047 1.835-.152 2.63-.724 2.434-1.755-.232-1.217-2.43-1.631-10.781-2.029-5.77-.275-13.977-.369-18.24-.208m13.554 14.812c-3.715.695-8.849-.742-8.704-2.437.055-.642.168-2.495.25-4.117.145-2.861.32-2.959 5.779-3.25l5.628-.3.122 4.752c.117 4.588.01 4.773-3.075 5.352" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="m167.809 9.917-7.692.583.1 14.98c.071 10.664.465 15.345 1.37 16.25 1.314 1.313 12.031 1.747 16.116.652 2.167-.581 2.2-.859 2-16.736-.233-18.522 1.132-16.717-11.894-15.729m6.245 15.833-.16 11.25-2.947.15c-1.621.083-3.427.195-4.014.25-.692.065-1.132-3.955-1.25-11.4l-.183-11.5h8.714l-.16 11.25" fill="#A8D292FE" stroke="#A8D292FE"/><path d="M279.945 7.383c-.245.242-2.695.577-5.445.744-3.966.241-5.023.673-5.113 2.088-.077 1.211.647 1.825 2.25 1.91 4.448.235 4.863.377 4.763 1.625-.055.688-.167 2.6-.25 4.25-.114 2.283-.628 3-2.15 3-1.79 0-2.193.555-1.915 2.638.047.351-.515 1.014-1.25 1.473-1.312.82 21.681.276 29.826-.705 2.415-.291 4.404-1.133 4.739-2.006.327-.852.149-1.239-.411-.893-.544.336-.989.134-.989-.448 0-.582-1.125-1.059-2.5-1.059-2.173 0-2.5-.441-2.5-3.378 0-3.873 2.036-6.063 4.817-5.18 1.518.482 1.889.137 1.798-1.668-.112-2.223-.397-2.28-12.67-2.552-6.905-.154-12.755-.081-13 .161M293 16.377v4.377l-4.75-.456c-6.507-.624-7.142-.906-6.747-2.986a30.22 30.22 0 0 0 .42-3.562c.064-1.445 1.035-1.75 5.577-1.75h5.5v4.377" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="M184.98 10.038c-1.383 2.584-1.116 33.568.316 36.712 1.06 2.327 2.704 3.051 2.704 1.191 0-.582.352-.841.783-.575.43.266.875-3.568.989-8.52.229-9.989.489-10.846 3.287-10.846 1.79 0 1.941.767 1.941 9.878 0 8.07.31 10.128 1.692 11.25 1.444 1.171 1.567 1.164.836-.048-.636-1.055-.442-1.261.757-.801 2.122.814 2.691-1.175 2.805-9.813.05-3.831.163-12.09.251-18.353l.159-11.386-2.573-.277c-2.475-.265-2.582-.057-2.774 5.387-.324 9.159-.435 9.505-3.052 9.587-2.28.072-2.407-.249-2.557-6.456-.086-3.593-.495-7.08-.909-7.75-1.148-1.858-3.438-1.454-4.655.82" fill="#A8D292FE" stroke="#A8D292FE"/><path d="M374.952 38.375c-.249.245-2.927.67-5.952.945-3.025.275-5.05.548-4.5.606.55.057.407.481-.318.94-1.006.638-1.123 2.228-.493 6.735l.825 5.899 14.241.181c16.346.207 15.698.629 14.879-9.681l-.438-5.5-8.896-.285c-4.893-.157-9.1-.085-9.348.16m13.569 7.756-.248 3.15-9.336-.205c-5.135-.113-9.655-.402-10.043-.642-.388-.24-.477-1.311-.198-2.381.539-2.061 2.051-2.368 13.938-2.833l6.135-.239-.248 3.15" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="M228 35.804c-2.025.664-6.113 4.772-6.358 6.39-.109.718-.562 1.888-1.006 2.6-.447.715-.326 1.875.269 2.592.593.714.779 1.597.413 1.962-.365.366.857 2.023 2.716 3.682 3.019 2.696 4.008 2.999 9.254 2.842 3.527-.106 6.44-.743 7.293-1.596.78-.78 1.419-1.092 1.419-.692 0 .399.891-.081 1.98-1.066 2.523-2.283 3.674-8.025 2.011-10.029-.68-.819-.877-1.489-.439-1.489s-.247-1.111-1.523-2.469c-1.276-1.358-2.704-2.232-3.174-1.941-.47.29-.855.096-.855-.431 0-.977-9.267-1.25-12-.355m12.188 7.245c3.172 4.249.046 7.781-7.409 8.373-2.843.225-3.842-.172-4.764-1.894-1.378-2.574-.865-9.028.717-9.028.606 0 1.367-.266 1.693-.591 1.395-1.395 7.951.714 9.763 3.14" fill="#A8D292FE" stroke="#A8D292FE"/><path d="M7.302 19.151c.668 12.076.951 13.769 2.458 14.7 1.324.819 19.018-.296 19.981-1.258.365-.365.845-5.823 1.067-12.128C31.2 9.346 31.149 9 29.106 9 27.39 9 27 9.611 27 12.3c0 4.768-1.495 5.7-9.143 5.7h-6.742l-.308-4.241c-.233-3.22-.761-4.328-2.193-4.6-1.778-.337-1.852.232-1.312 9.992M26.5 26v4.5l-6.91.299c-7.459.323-8.547-.292-8.575-4.849-.024-4.105 1.785-5.061 8.975-4.74l6.51.29V26" fill="#00B0EEFE" stroke="#00B0EEFE"/><path d="M295.5 35.52c-.55.224-5.95.537-12 .694-10.238.266-11 .425-11 2.286 0 1.904.591 1.989 12.319 1.774 10.786-.197 12.279-.028 12 1.36-.246 1.225-1.799 1.634-6.819 1.798-3.575.117-8.75.293-11.5.392l-5 .179-.268 3.909c-.459 6.714.975 7.324 15.565 6.617 13.271-.643 14.203-.843 14.203-3.043 0-1.121-2.265-1.371-11.497-1.271-10.437.113-13.714-.338-12.351-1.7.266-.267 5.284-.686 11.15-.931 5.866-.245 11.096-.712 11.623-1.038.526-.325.797-2.944.602-5.819-.336-4.935-.514-5.238-3.191-5.421-1.56-.107-3.286-.011-3.836.214" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="M102.25 9.706c-2.374.457-3.13 2.244-1 2.365.688.038 4.738.01 9-.064 8.86-.153 8.033-1.359 8.166 11.901.054 5.438.496 8.548 1.249 8.805.641.218 1.489-.64 1.885-1.908.928-2.974 2.22-3.771 6.141-3.79 3.606-.017 4.838 1.345 4.509 4.984-.124 1.376.18 3.121.675 3.879 2.022 3.091 3.001-.276 3.043-10.462.024-5.799.278-10.925.566-11.39.837-1.354-.567-4.026-2.116-4.026-.78 0-1.818 1.053-2.307 2.339-.633 1.665-1.563 2.266-3.225 2.084a77.248 77.248 0 0 0-4.586-.34c-1.711-.063-2.25-.682-2.25-2.583 0-2.487-.047-2.499-8.75-2.364-4.812.075-9.762.331-11 .57m29.865 8.544c.47 5.096-.859 6.644-5.501 6.407-2.395-.123-3.286-.774-4.055-2.966-.764-2.175-.656-3.018.477-3.735 2.205-1.394 8.944-1.176 9.079.294" fill="#00B0EEFE" stroke="#00B0EEFE"/><path d="M218.709 4.624c-.39.39-.709 1.759-.709 3.043 0 1.726-.563 2.333-2.167 2.333-1.191 0-1.872.295-1.512.655.36.36-1.252.697-3.583.75-3.405.076-4.238.455-4.238 1.925 0 1.499.969 1.896 5.367 2.2 6.231.431 6.398.538 6.532 4.202.068 1.868-.794 3.529-2.652 5.109-1.514 1.288-2.457 2.82-2.095 3.405.361.585.189.774-.384.42-.573-.354-1.597.026-2.277.845-.68.819-.956 1.545-.613 1.614.342.069.06.181-.628.25-.687.069-1.25 1.025-1.25 2.125 0 1.47.663 1.997 2.5 1.988 1.399-.007 2.5-.594 2.5-1.333 0-.727.284-1.038.631-.691.347.348 2.213-1.217 4.147-3.476 1.934-2.259 3.675-3.664 3.869-3.122.194.541 1.01 1.13 1.814 1.309.803.179 2.351 1.113 3.439 2.075 1.087.963 2.567 1.806 3.289 1.875 4.391.419 4.811.277 4.811-1.625 0-1.1-.562-1.887-1.25-1.75-.687.137-1.25-.105-1.25-.54 0-.434-2.161-2.052-4.802-3.594-4.112-2.402-4.835-3.294-5.031-6.21-.25-3.709-.279-3.696 8.333-3.839 3.5-.059 4.037-.379 4.293-2.567.232-1.976.078-2.186-.734-1-.761 1.11-1.032 1.157-1.044.183-.01-.851-.708-1.098-1.971-.697-1.076.342-3.517.328-5.425-.03-2.987-.56-3.445-1.019-3.294-3.302.131-1.979-.343-2.726-1.866-2.945-1.123-.161-2.36.026-2.75.415" fill="#A8D292FE" stroke="#A8D292FE"/><path d="M312.422 8.911c-.232.232-.422 1.155-.422 2.05 0 1.337 1.252 1.652 6.978 1.761 3.837.073 7.362.37 7.833.661.471.291.661 1.857.422 3.48-.447 3.046-2.407 3.909-10.574 4.658-1.562.144-3.229.649-3.703 1.123-1.107 1.107.034 12.48 1.181 11.771.475-.293.863.001.863.654 0 .839 1.244.982 4.25.486 2.338-.386 6.267-.908 8.733-1.161 5.181-.532 6.351-1.361 5.403-3.831-.566-1.476-1.365-1.65-4.783-1.044-7.458 1.323-12.796.22-11.227-2.319.52-.84 2.729-1.479 9.624-2.781 5.809-1.097 5.5-.601 5.503-8.835l.004-7.721-9.832.313c-5.407.172-10.021.503-10.253.735M337.921 8.25c-.343 1.089-.466 24.528-.134 25.5.609 1.783 3.885 1.548 4.606-.332.334-.87.607-3.57.607-6 0-4.046.211-4.418 2.5-4.418 2.398 0 2.501.254 2.515 6.25.017 6.749.983 9.348 3.164 8.511 1.467-.562 1.999-5.562 2.206-20.725.114-8.388.093-8.464-2.383-8.472-1.491-.005-2.538.585-2.597 1.464-.055.81-.169 2.935-.253 4.722-.129 2.759-.529 3.25-2.652 3.25-2.179 0-2.5-.439-2.5-3.418C343 9.869 342.118 8 339.893 8c-1.041 0-1.928.113-1.972.25" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="M58.688 10.692c-2.355.27-3.66.889-3.416 1.622.257.768 2.934 1.186 7.598 1.186 8.113 0 9.09.713 9.115 6.652.013 3.224-.366 3.787-3.235 4.801-1.787.631-5.05 1.377-7.25 1.658-6.873.876-6.829.824-6.238 7.342.295 3.251.833 6.392 1.196 6.979C57.82 43.136 77 41.824 77 39.528c0-.862-2.519-1.184-8.75-1.119l-8.75.091v-8.939l7.37-1.234c4.054-.679 7.654-1.517 8-1.864.863-.863.8-14.122-.071-14.995-.871-.874-10.992-1.361-16.111-.776" fill="#00B0EEFE" stroke="#00B0EEFE"/><path d="M336 37.059c0 .582-.51.744-1.134.358-.784-.484-.995.249-.684 2.37.359 2.447-.02 3.324-1.866 4.311-1.274.682-2.316 1.614-2.316 2.071 0 .457-.675.831-1.5.831s-1.5.398-1.5.883c0 .486-.958 1.134-2.13 1.441-1.423.372-1.931 1.075-1.531 2.116.331.865.077 1.56-.57 1.56-.846 0-.867.302-.076 1.093 1.025 1.025 4.782-.162 6.307-1.993.275-.33 2.188-1.458 4.25-2.507 2.063-1.05 3.75-2.273 3.75-2.719 0-.446 2.66.748 5.912 2.654 7.378 4.324 10.302 4.811 10.561 1.757.155-1.827-.934-2.702-6.216-5-5.397-2.347-6.504-3.256-7.042-5.785-.35-1.65-.542-3.337-.426-3.75.116-.412-.689-.75-1.789-.75s-2 .477-2 1.059" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="M87.459 12.795C86.487 18.65 86.238 19 83.031 19c-3.983 0-3.868 1.34.219 2.543 2.865.844 3.25 1.371 3.25 4.457 0 3.189-.292 3.544-3.289 4-3.768.573-4.392 2.451-.864 2.599 4.095.172 4.653 1.197 4.653 8.543 0 5.164.33 6.915 1.246 6.609 1.904-.634 2.633-6.829 2.696-22.894.047-11.968-.209-14.746-1.405-15.205-1.068-.409-1.63.44-2.078 3.143" fill="#00B0EEFE" stroke="#00B0EEFE"/><path d="M289 28.066c-4.675.415-11.029.519-14.12.23-5.941-.555-7.931.51-5.5 2.941 1.113 1.113 4.645 1.326 17.259 1.043 20.433-.458 19.931-.379 19.541-3.072-.358-2.479-1.384-2.547-17.18-1.142" fill="#A0C4E4FE" stroke="#A0C4E4FE"/><path d="M241.732 8.75c-.213.413-.497 6.037-.631 12.5-.195 9.352.061 12.055 1.256 13.25 1.334 1.333 1.679 1.321 3.116-.116 1.315-1.315 1.576-3.592 1.402-12.25-.118-5.849-.701-11.283-1.295-12.076-.844-1.127-.773-1.257.325-.595.953.574 1.175.475.69-.308-.794-1.286-4.261-1.574-4.863-.405" fill="#A8D292FE" stroke="#A8D292FE"/><path d="M38.886 11.75c-.448 6.85-.525 21.324-.128 24.044.27 1.847.977 3.126 1.611 2.913 1.237-.415 1.345-.978 1.516-7.886.121-4.91 2.149-8.129 4.543-7.21.753.289 1.698-.006 2.099-.655.862-1.394-1.297-2.982-3.11-2.286-1.74.668-3.417-2.817-3.417-7.104C42 11.063 41.553 10 40.5 10c-.825 0-1.552.788-1.614 1.75M16.809 41.75c-.234.963-.241 3.888-.016 6.5l.408 4.75H27.41c7.605 0 10.703-.387 12.149-1.517 1.775-1.388 1.214-1.507-6.559-1.397-12.666.179-12 .374-12-3.515 0-1.885-.707-4.135-1.571-5-1.97-1.969-2.101-1.96-2.62.179M110.593 39.85c-.907 1.467-.413 10.59.644 11.9 1.718 2.131 23.763 1.274 23.763-.924 0-.496-4.43-.815-9.844-.709-5.414.107-10.342-.114-10.95-.489-.703-.435-.891-2.494-.516-5.656.487-4.114.316-4.972-.992-4.972-.869 0-1.816.383-2.105.85" fill="#00B0EEFE" stroke="#00B0EEFE"/><path d="M109.709 37.624c-.39.39-.638 2.997-.552 5.793l.157 5.083.593-4.991c.436-3.668 1.057-5.08 2.343-5.324 1.459-.277 1.785.511 1.962 4.742l.211 5.073.039-5.25c.033-4.538-.239-5.29-2.003-5.542-1.123-.161-2.36.027-2.75.416" fill="#28A0CAFE" stroke="#28A0CAFE"/><path d="M115.336 46c.151 2.299.545 2.497 4.914 2.458l4.75-.041-4.43-.209c-3.701-.174-4.511-.579-4.914-2.458-.426-1.983-.464-1.953-.32.25" fill="#D6FEFEFE" stroke="#D6FEFEFE"/><path d="M43.398 14.5c.092 4.511.322 4.993 2.352 4.929 1.461-.047 1.568-.134.305-.25-1.564-.144-2.025-1.111-2.352-4.929l-.407-4.75.102 5" fill="#86E0FEFE" stroke="#86E0FEFE"/><path d="M86.15 28c-.082.55-1.275 1.084-2.65 1.188-2.093.156-2.052.197.25.25 1.616.036 2.709-.453 2.65-1.188-.055-.687-.167-.8-.25-.25" fill="#0EA8DEFE" stroke="#0EA8DEFE"/><path d="M90.116 46.313c-.082 1.282-.775 1.721-2.366 1.5-1.503-.209-1.819-.035-.952.526 1.941 1.254 4.418-.073 3.892-2.086-.423-1.621-.467-1.616-.574.06M72.207 9.951c2.04.396 3.475.344 3.191-.115-.284-.46-1.952-.784-3.707-.721L68.5 9.23l3.707.721" fill="#28A0CAFE" stroke="#28A0CAFE"/></svg></a>
			</span>
		</div>
	
			<c:if test="${member eq null }">
			<ul class="navbar-nav">
				<li class="nav-item" id="item01">
					<a href="${myctx}/member/login" class="btn btn-info btn-raised btn-round">로그인</a>
				</li>
				<li class="nav-item" id="item02">
					<a href="${myctx}/member/register" class="btn btn-primary btn-raised btn-round">
						회원가입
					</a>
				</li>
			</ul>
			</c:if>
				
					<c:if test="${ member ne null }">
					<li class="nav-item" id="item03">
						<a href="${myctx}/message/msgRePage.bit"><span id="message"><i class="far fa-bell"></i></span>						
							<span class="badge badge-pill badge-warning" id="alarmCount"></span>
						</a>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<span onclick='popupchatList()' id="message" style="cursor:pointer"><i class="far fa-comment"></i></span>						
							<span class="badge badge-pill badge-warning" id="message-alarm" ></span>
					</li>
		            </c:if>
					<c:if test="${ member ne null }">
		            <li class="nav-item" id="item02">
		                <a href="${myctx}/member/logout" class="btn btn-primary btn-raised btn-round">
		                	로그아웃
		                </a>
			        </li>
					</c:if>
	</nav>
	<!-- 스피너 -->
	<div id="page-loading">
    	<i class="fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>    
	</div>

<!-- navi -->
<div id="wrapSideMenu" class="sidenav">
	<div class="row">
		<div class="col"></div>
		<div class="col-lg-2">
			<span class="sideMenu-close-icon"><i class="fas fa-times"></i></span>
		</div>
	</div>
	<c:if test="${ member ne null }">
	<div class="row" style="margin-bottom: 40px;">
		<div class="col-lg-12" style="text-align: center;">					
					<div class="nickname">
						${user55.nick}<br>(${userid})<br>						
						<button class="btn btn-primary btn-sm" onclick="location.href='${myctx}/member/memberUpdate'">마이페이지</button>
					</div>
		</div>
	</div>
	</c:if>
	<div class="row">
		<div class="col-lg-12" style="text-align: center; font-size: 25px;font-weight: bolder;" >
			<div class="menuList">
				<ul class="navbar-nav ml-auto" >
				<c:if test="${ member.status eq 99 }">
					<li><a href="${myctx}/admin/main">관리자 페이지</a></li>
					<br>
				</c:if>					
					<li><a href="${myctx}/NewFile1">병원지도</a></li>
					<br>
					<li><a href="${myctx}/comanimal/animal_boardlist">돌봄게시판</a></li>	
					<br>				
					<c:if test="${ member ne null }">
					<li><a href="${myctx}/management/main.bit">반려견 관리</a></li>
					<br>
					<%-- <li><a href="${myctx}/chatList.bit">채팅</a></li>
					<br>	 --%>
					<li><a href="${myctx}/qna/main">QNA</a></li>
					<br>
					</c:if>			
				</ul>
			</div>
		</div>
	</div>
</div>

<!-- 알람테스트 세션에 저장된 유저 이메일 저장 시작 -->
<c:if test="${ member ne null }">
<input type="hidden" id="userid" value="${sessionScope.member.userid}">
</c:if>

<script src="${myctx}/assets/js_2sotto/headerAndNavi.js"></script>
<script>
//알람테스트 

function popupchatList(){
	
	var popupX = (window.screen.width / 2) - (1000 / 2);  
	//만들 팝업창 좌우 크기의 1/2 만큼 보정값으로 빼주었음

	var popupY= (window.screen.height /2) - (1000 / 2); 
	//만들 팝업창 상하 크기의 1/2 만큼 보정값으로 빼주었음
	
	window.open('${myctx}/chatList.bit','_blank',
			'width=580, height=700, left='+ popupX + ', top='+ popupY+'');
	
	}
</script>